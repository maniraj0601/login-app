(this["webpackJsonplogin-app"]=this["webpackJsonplogin-app"]||[]).push([[0],{24:function(e,t,s){},32:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(12),r=s.n(a),c=(s(24),s(14)),o=s(3),i=s(8),l=s(15);var d=function(e){return{type:"login",payload:e}},m={users:[{sessionToken:"12345",username:"hruday@gmail.com",password:"hruday123"},{sessionToken:"12345asd",username:"iammaniraj06@gmail.com",password:"qwe"}]},u=s(1),j=function(e){var t=e.value,s=e.onChange;return Object(u.jsx)("div",{className:"form-group m-2",children:Object(u.jsx)("input",{className:"form-control",type:"text",placeholder:"Username",name:"username",value:t,onChange:function(e){return s(e.target.value)}})})},b=function(e){var t=e.value,s=e.onChange;return Object(u.jsx)("div",{className:"form-group m-2",children:Object(u.jsx)("input",{className:"form-control",type:"password",placeholder:"Password",name:"password",value:t,onChange:function(e){return s(e.target.value)}})})},g=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),s=t[0],a=t[1],r=Object(n.useState)(""),c=Object(l.a)(r,2),g=c[0],h=c[1],O=Object(n.useState)({}),p=Object(l.a)(O,2),x=p[0],v=p[1],f=JSON.parse(localStorage.getItem("user")),N=Object(i.b)();return console.log(x,"errors"),Object(u.jsx)(u.Fragment,{children:f&&f.isLoggedIn?Object(u.jsx)(o.a,{to:"/"}):Object(u.jsx)("div",{className:"container-sm row m-auto p-0",style:{maxWidth:"420px"},children:Object(u.jsx)("div",{className:"row ",children:Object(u.jsxs)("div",{className:"col mt-5 text-center",children:[Object(u.jsx)("h1",{className:"text-center mb-3",children:"Login"}),x.noRecord&&Object(u.jsx)("div",{class:"alert alert-danger",role:"alert",children:x.noRecord}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=function(e){var t={};return e.username&&""!==e.username?/\S+@\S+\.\S+/.test(e.username)||(t.username="Username is invalid"):t.username="Username is required",e.password&&""!==e.password?e.password.length<3&&(t.password="Password must be 8 or more characters"):t.password="Password is required",t}({username:s,password:g});if(v(t),0===Object.keys(t).length){var n=m.users.find((function(e){return e.username===s&&e.password===g}));if(n){var a=n.sessionToken,r=n.username;N(d({sessionToken:a,username:r,isLoggedIn:!0}))}else v({noRecord:"Invalid login credentials!!!"})}},children:[Object(u.jsx)(j,{value:s,onChange:a}),x.username&&Object(u.jsx)("p",{className:"text-danger m-0",children:x.username}),Object(u.jsx)(b,{value:g,onChange:h}),x.password&&Object(u.jsx)("p",{className:"text-danger m-0",children:x.password}),Object(u.jsx)("button",{className:"btn btn-primary my-2",type:"submit",children:"LOGIN"})]})]})})})})},h=function(e){var t=e.user,s=t.name,n=t.age,a=t.gender,r=t.email,c=t.phoneNo;return Object(u.jsx)("div",{className:"col-sm-4 col-lg-3 col-12 border border-dark",children:Object(u.jsxs)("div",{className:"my-4 text-center",children:[Object(u.jsx)("div",{className:"period",children:a}),Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{className:"display-2",children:s})}),Object(u.jsxs)("div",{className:"card-block",children:[Object(u.jsx)("h4",{className:"card-title",children:n}),Object(u.jsxs)("ul",{className:"list-group",children:[Object(u.jsx)("li",{className:"list-group-item",children:r}),Object(u.jsx)("li",{className:"list-group-item",children:c})]})]})]})})},O=function(){var e=Object(i.c)((function(e){return e.rootReducer.userState})),t=Object(i.c)((function(e){return e.rootReducer.employeeState})),s=Object(i.b)();return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("h1",{className:"text-center",children:["Hello, ",e&&e.isLoggedIn?e.username:"Annonymous User"]}),Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-primary my-2",onClick:function(e){e.preventDefault(),s({type:"logout"})},children:"LOGOUT"})}),Object(u.jsx)("div",{className:"row",children:t.user.map((function(e){return Object(u.jsx)(h,{user:e},e.id)}))})]})},p=function(){return Object(u.jsx)("div",{class:"d-flex align-items-center justify-content-center",style:{height:"100vh"},children:Object(u.jsx)("div",{class:"text-center display-2",children:"OOPS! 404"})})},x={user:[{id:1,name:"test1",age:"11",gender:"male",email:"test1@gmail.com",phoneNo:"9415346313"},{id:2,name:"test2",age:"12",gender:"male",email:"test2@gmail.com",phoneNo:"9415346314"},{id:3,name:"test3",age:"13",gender:"male",email:"test3@gmail.com",phoneNo:"9415346315"},{id:4,name:"test4",age:"14",gender:"male",email:"test4@gmail.com",phoneNo:"9415346316"},{id:5,name:"test5",age:"15",gender:"male",email:"test5@gmail.com",phoneNo:"9415346317"},{id:6,name:"test6",age:"16",gender:"male",email:"test6@gmail.com",phoneNo:"9415346318"}]};function v(e){var t=Object(i.c)((function(e){return e.rootReducer.userState}));return Object(u.jsx)(u.Fragment,{children:t&&t.isLoggedIn?e.children:Object(u.jsx)(o.a,{to:"/login"})})}var f=function(){var e=Object(i.b)();return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));if(t&&t.isLoggedIn){var s=m.users.filter((function(e){return e.sessionToken===t.sessionToken}))[0],n=s.sessionToken,a=s.username;e(d({sessionToken:n,username:a,isLoggedIn:t.isLoggedIn}))}e({type:"setEmployees",payload:x})}),[]),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(c.a,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{exact:!0,path:"/",children:Object(u.jsx)(v,{children:Object(u.jsx)(O,{})})}),Object(u.jsx)(o.b,{path:"/login",component:g}),Object(u.jsx)(o.b,{path:"",component:p})]})})})},N=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,33)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),r(e),c(e)}))},y=(s(31),s(11)),w=Object(y.a)({employeeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setEmployees":return t.payload;default:return e}},userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login":return localStorage.setItem("user",JSON.stringify(t.payload)),t.payload;case"logout":return localStorage.removeItem("user"),null;default:return e}}}),S=Object(y.b)(Object(y.a)({rootReducer:w}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(Object(u.jsx)(i.a,{store:S,children:Object(u.jsx)(f,{})}),document.getElementById("root")),N()}},[[32,1,2]]]);
//# sourceMappingURL=main.0a3491d6.chunk.js.map